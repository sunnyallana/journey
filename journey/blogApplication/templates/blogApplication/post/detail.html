{% extends 'blogApplication/base.html' %}
{% load blog_tags %}


{% block title  %}{{ post.title }}{% endblock %}

{% block content %}
<h1>{{ post.title }}</h1>
<p class="date">
    Published {{ post.publish }} by {{ post.author }}
</p>
{{ post.body | markdown }}
<p>
    <a href="{% url 'blogApplication:post_share' post.id %}">
        Share this post
    </a>
</p>

<h2>Similar posts</h2>
{% for post in similar_posts %}
    <p>
    <a href="{{ post.get_absolute_url }}">{{ post.title }}</a>
    </p>
{% empty %}
    There are no similar posts yet.
{% endfor %}    

<!-- comments.count is a template filter that returns the number of comments for a given object. We use it to display the total number of comments for the current post. We also use the pluralize template filter to add an 's' to the word 'comment' when the total number of comments is greater than 1. -->
{% with comments.count as total_comments %}
<h2>
  {{ total_comments }} comment{{ total_comments|pluralize }}
</h2>
{% endwith %}

{% for comment in comments %}
    <div class="comment">
    <p class="info">
<!-- ForLoop: The forloop.counter the loop counter in each iteration -->
        Comment {{ forloop.counter }} by {{ comment.name }}
        {{ comment.created }}
    </p>
    {{ comment.body|linebreaks }}
    </div>
    {% empty %}
    <p>There are no comments.</p>
{% endfor %}

{% include 'blogApplication/post/includes/comment_form.html' %}

{% endblock %}